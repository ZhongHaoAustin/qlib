[3055700:MainThread](2024-03-28 13:38:10,500) INFO - qlib.Initialization - [config.py:416] - default_conf: client.
[3055700:MainThread](2024-03-28 13:38:10,503) INFO - qlib.Initialization - [__init__.py:74] - qlib successfully initialized based on client settings.
[3055700:MainThread](2024-03-28 13:38:10,504) INFO - qlib.Initialization - [__init__.py:76] - data_path={'__DEFAULT_FREQ': PosixPath('/home/zhonghao/.qlib/qlib_data/cn_data')}
[3055700:MainThread](2024-03-28 13:38:10,506) INFO - qlib.workflow - [exp.py:258] - Experiment 1 starts running ...
[3055700:MainThread](2024-03-28 13:38:10,593) INFO - qlib.workflow - [recorder.py:341] - Recorder fc81795fc61e4700bb136f9b5231eaa2 starts running under Experiment 1 ...
ModuleNotFoundError. CatBoostModel are skipped. (optional: maybe installing CatBoostModel can fix it.)
[3055700:MainThread](2024-03-28 13:38:31,215) INFO - qlib.timer - [log.py:127] - Time cost: 19.129s | Loading data Done
/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/numpy/lib/nanfunctions.py:1095: RuntimeWarning: All-NaN slice encountered
  result = np.apply_along_axis(_nanmedian1d, axis, a, overwrite_input)
[3055700:MainThread](2024-03-28 13:39:00,880) INFO - qlib.timer - [log.py:127] - Time cost: 28.746s | RobustZScoreNorm Done
[3055700:MainThread](2024-03-28 13:39:01,941) INFO - qlib.timer - [log.py:127] - Time cost: 1.059s | Fillna Done
[3055700:MainThread](2024-03-28 13:39:02,543) INFO - qlib.timer - [log.py:127] - Time cost: 0.331s | DropnaLabel Done
/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/data/dataset/processor.py:379: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[cols] = t
[3055700:MainThread](2024-03-28 13:39:03,119) INFO - qlib.timer - [log.py:127] - Time cost: 0.575s | CSRankNorm Done
[3055700:MainThread](2024-03-28 13:39:03,121) INFO - qlib.timer - [log.py:127] - Time cost: 31.905s | fit & process data Done
[3055700:MainThread](2024-03-28 13:39:03,121) INFO - qlib.timer - [log.py:127] - Time cost: 51.036s | Init data Done
[3055700:MainThread](2024-03-28 13:39:04,975) INFO - qlib.fill_placeholder - [__init__.py:739] - <PRED> lookes like a placeholder, but it can't match to any given values
[3055700:MainThread](2024-03-28 13:39:05,243) INFO - qlib.workflow - [record_temp.py:198] - Signal record 'pred.pkl' has been saved as the artifact of the Experiment 1
[3055700:MainThread](2024-03-28 13:39:10,476) INFO - qlib.backtest caller - [__init__.py:93] - Create new exchange
'The following are prediction results of the LinearModel model.'
                          score
datetime   instrument          
2017-01-03 SH600000   -0.091334
           SH600008   -0.063725
           SH600009   -0.004876
           SH600010   -0.108449
           SH600015    0.000387
{'IC': 0.03910724986360262,
 'ICIR': 0.2983336339869069,
 'Long-Avg Ann Return': 0.09302546689286828,
 'Long-Avg Ann Sharpe': 0.46241365170400756,
 'Long-Short Ann Return': 0.2287446502492263,
 'Long-Short Ann Sharpe': 3.84983971157511,
 'Rank IC': 0.0470270460181146,
 'Rank ICIR': 0.3524687983498387}
[3055700:MainThread](2024-03-28 13:39:17,422) WARNING - qlib.online operator - [exchange.py:219] - $close field data contains nan.
[3055700:MainThread](2024-03-28 13:39:17,425) WARNING - qlib.online operator - [exchange.py:219] - $close field data contains nan.
[3055700:MainThread](2024-03-28 13:39:17,435) WARNING - qlib.online operator - [exchange.py:226] - factor.day.bin file not exists or factor contains `nan`. Order using adjusted_price.
[3055700:MainThread](2024-03-28 13:39:17,436) WARNING - qlib.online operator - [exchange.py:228] - trade unit 100 is not supported in adjusted_price mode.
[3055700:MainThread](2024-03-28 13:39:22,584) WARNING - qlib.data - [data.py:666] - load calendar error: freq=day, future=True; return current calendar!
[3055700:MainThread](2024-03-28 13:39:22,584) WARNING - qlib.data - [data.py:669] - You can get future calendar by referring to the following document: https://github.com/microsoft/qlib/blob/main/scripts/data_collector/contrib/README.md
[3055700:MainThread](2024-03-28 13:39:22,602) WARNING - qlib.BaseExecutor - [executor.py:121] - `common_infra` is not set for <qlib.backtest.executor.SimulatorExecutor object at 0x7f31a621c640>
backtest loop:   0%|          | 0/871 [00:00<?, ?it/s]/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
backtest loop:   0%|          | 4/871 [00:00<00:22, 38.00it/s]backtest loop:   1%|          | 9/871 [00:00<00:37, 22.89it/s]backtest loop:   2%|▏         | 15/871 [00:00<00:25, 33.48it/s]backtest loop:   2%|▏         | 20/871 [00:00<00:23, 36.34it/s]backtest loop:   3%|▎         | 26/871 [00:00<00:20, 42.12it/s]backtest loop:   4%|▎         | 31/871 [00:00<00:20, 40.37it/s]backtest loop:   4%|▍         | 36/871 [00:00<00:20, 39.99it/s]backtest loop:   5%|▍         | 41/871 [00:01<00:20, 40.82it/s]backtest loop:   5%|▌         | 47/871 [00:01<00:18, 45.13it/s]backtest loop:   6%|▌         | 53/871 [00:01<00:17, 46.68it/s]backtest loop:   7%|▋         | 58/871 [00:01<00:19, 42.70it/s]backtest loop:   7%|▋         | 63/871 [00:01<00:20, 38.81it/s]backtest loop:   8%|▊         | 68/871 [00:01<00:19, 41.28it/s]backtest loop:   8%|▊         | 74/871 [00:01<00:17, 44.67it/s]backtest loop:   9%|▉         | 79/871 [00:01<00:18, 43.73it/s]backtest loop:  10%|▉         | 84/871 [00:02<00:18, 42.15it/s]backtest loop:  10%|█         | 89/871 [00:02<00:18, 42.32it/s]backtest loop:  11%|█         | 95/871 [00:02<00:16, 46.70it/s]backtest loop:  11%|█▏        | 100/871 [00:02<00:16, 45.79it/s]backtest loop:  12%|█▏        | 106/871 [00:02<00:15, 48.82it/s]backtest loop:  13%|█▎        | 111/871 [00:02<00:16, 46.40it/s]backtest loop:  13%|█▎        | 116/871 [00:02<00:16, 45.85it/s]backtest loop:  14%|█▍        | 121/871 [00:02<00:16, 45.92it/s]backtest loop:  15%|█▍        | 128/871 [00:02<00:14, 51.18it/s]backtest loop:  15%|█▌        | 134/871 [00:03<00:14, 50.41it/s]backtest loop:  16%|█▌        | 140/871 [00:03<00:15, 47.13it/s]backtest loop:  17%|█▋        | 145/871 [00:03<00:15, 46.65it/s]backtest loop:  17%|█▋        | 150/871 [00:03<00:15, 46.11it/s]backtest loop:  18%|█▊        | 156/871 [00:03<00:14, 49.04it/s]backtest loop:  19%|█▊        | 162/871 [00:03<00:13, 51.46it/s]backtest loop:  19%|█▉        | 168/871 [00:03<00:14, 47.59it/s]backtest loop:  20%|█▉        | 173/871 [00:03<00:15, 45.88it/s]backtest loop:  20%|██        | 178/871 [00:04<00:14, 46.92it/s]backtest loop:  21%|██        | 184/871 [00:04<00:14, 46.19it/s]backtest loop:  22%|██▏       | 189/871 [00:04<00:15, 43.57it/s]backtest loop:  22%|██▏       | 194/871 [00:04<00:16, 41.86it/s]backtest loop:  23%|██▎       | 199/871 [00:04<00:16, 41.35it/s]backtest loop:  23%|██▎       | 204/871 [00:04<00:16, 40.97it/s]backtest loop:  24%|██▍       | 210/871 [00:04<00:14, 44.68it/s]backtest loop:  25%|██▍       | 215/871 [00:04<00:17, 38.05it/s]backtest loop:  25%|██▌       | 219/871 [00:05<00:17, 38.22it/s]backtest loop:  26%|██▌       | 224/871 [00:05<00:16, 40.28it/s]backtest loop:  26%|██▋       | 229/871 [00:05<00:15, 42.79it/s]backtest loop:  27%|██▋       | 235/871 [00:05<00:15, 40.17it/s]backtest loop:  28%|██▊       | 240/871 [00:05<00:15, 40.08it/s]backtest loop:  28%|██▊       | 245/871 [00:05<00:15, 40.17it/s]backtest loop:  29%|██▉       | 251/871 [00:05<00:14, 43.51it/s]backtest loop:  30%|██▉       | 257/871 [00:05<00:13, 46.76it/s]backtest loop:  30%|███       | 262/871 [00:06<00:13, 45.80it/s]backtest loop:  31%|███       | 267/871 [00:06<00:13, 44.40it/s]backtest loop:  31%|███       | 272/871 [00:06<00:13, 43.73it/s]backtest loop:  32%|███▏      | 277/871 [00:06<00:13, 44.21it/s]backtest loop:  32%|███▏      | 283/871 [00:06<00:13, 44.59it/s]backtest loop:  33%|███▎      | 288/871 [00:06<00:13, 43.01it/s]backtest loop:  34%|███▎      | 293/871 [00:06<00:13, 42.89it/s]backtest loop:  34%|███▍      | 298/871 [00:06<00:13, 43.57it/s]backtest loop:  35%|███▍      | 304/871 [00:06<00:12, 47.23it/s]backtest loop:  36%|███▌      | 310/871 [00:07<00:11, 49.65it/s]backtest loop:  36%|███▋      | 316/871 [00:07<00:12, 43.12it/s]backtest loop:  37%|███▋      | 321/871 [00:07<00:12, 42.90it/s]backtest loop:  37%|███▋      | 326/871 [00:07<00:12, 43.35it/s]backtest loop:  38%|███▊      | 332/871 [00:07<00:11, 46.28it/s]backtest loop:  39%|███▉      | 338/871 [00:07<00:10, 48.87it/s]backtest loop:  39%|███▉      | 343/871 [00:07<00:11, 44.91it/s]backtest loop:  40%|███▉      | 348/871 [00:07<00:11, 43.79it/s]backtest loop:  41%|████      | 353/871 [00:08<00:11, 43.76it/s]backtest loop:  41%|████      | 358/871 [00:08<00:11, 45.02it/s]backtest loop:  42%|████▏     | 364/871 [00:08<00:10, 48.64it/s]backtest loop:  42%|████▏     | 369/871 [00:08<00:10, 47.77it/s]backtest loop:  43%|████▎     | 374/871 [00:08<00:10, 45.41it/s]backtest loop:  44%|████▎     | 379/871 [00:08<00:11, 44.56it/s]backtest loop:  44%|████▍     | 385/871 [00:08<00:09, 48.62it/s]backtest loop:  45%|████▌     | 392/871 [00:08<00:08, 53.40it/s]backtest loop:  46%|████▌     | 398/871 [00:08<00:09, 51.56it/s]backtest loop:  46%|████▋     | 404/871 [00:09<00:09, 49.02it/s]backtest loop:  47%|████▋     | 409/871 [00:09<00:09, 47.01it/s]backtest loop:  48%|████▊     | 414/871 [00:09<00:09, 46.94it/s]backtest loop:  48%|████▊     | 420/871 [00:09<00:09, 49.93it/s]backtest loop:  49%|████▉     | 426/871 [00:09<00:08, 51.89it/s]backtest loop:  50%|████▉     | 432/871 [00:09<00:09, 47.47it/s]backtest loop:  50%|█████     | 437/871 [00:09<00:09, 47.15it/s]backtest loop:  51%|█████     | 442/871 [00:09<00:09, 45.12it/s]backtest loop:  51%|█████▏    | 448/871 [00:10<00:08, 48.54it/s]backtest loop:  52%|█████▏    | 454/871 [00:10<00:08, 50.63it/s]backtest loop:  53%|█████▎    | 460/871 [00:10<00:08, 47.85it/s]backtest loop:  53%|█████▎    | 465/871 [00:10<00:08, 45.34it/s]backtest loop:  54%|█████▍    | 470/871 [00:10<00:08, 44.92it/s]backtest loop:  55%|█████▍    | 476/871 [00:10<00:08, 47.69it/s]backtest loop:  55%|█████▌    | 482/871 [00:10<00:08, 46.80it/s]backtest loop:  56%|█████▌    | 487/871 [00:10<00:08, 44.17it/s]backtest loop:  56%|█████▋    | 492/871 [00:11<00:08, 42.83it/s]backtest loop:  57%|█████▋    | 497/871 [00:11<00:08, 42.11it/s]backtest loop:  58%|█████▊    | 502/871 [00:11<00:08, 43.31it/s]backtest loop:  58%|█████▊    | 507/871 [00:11<00:08, 44.85it/s]backtest loop:  59%|█████▉    | 512/871 [00:11<00:08, 42.19it/s]backtest loop:  59%|█████▉    | 517/871 [00:11<00:08, 41.10it/s]backtest loop:  60%|█████▉    | 522/871 [00:11<00:08, 41.08it/s]backtest loop:  61%|██████    | 527/871 [00:11<00:08, 42.86it/s]backtest loop:  61%|██████    | 532/871 [00:11<00:08, 41.74it/s]backtest loop:  62%|██████▏   | 537/871 [00:12<00:08, 38.36it/s]backtest loop:  62%|██████▏   | 541/871 [00:12<00:08, 37.02it/s]backtest loop:  63%|██████▎   | 546/871 [00:12<00:08, 39.96it/s]backtest loop:  63%|██████▎   | 551/871 [00:12<00:07, 41.91it/s]backtest loop:  64%|██████▍   | 556/871 [00:12<00:08, 37.46it/s]backtest loop:  64%|██████▍   | 560/871 [00:12<00:08, 35.84it/s]backtest loop:  65%|██████▍   | 564/871 [00:12<00:08, 35.14it/s]/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
backtest loop:  66%|██████▌   | 571/871 [00:12<00:07, 41.09it/s]backtest loop:  66%|██████▌   | 576/871 [00:13<00:07, 39.49it/s]backtest loop:  67%|██████▋   | 581/871 [00:13<00:07, 36.84it/s]backtest loop:  67%|██████▋   | 586/871 [00:13<00:07, 36.35it/s]backtest loop:  68%|██████▊   | 591/871 [00:13<00:07, 38.83it/s]backtest loop:  68%|██████▊   | 596/871 [00:13<00:06, 40.87it/s]backtest loop:  69%|██████▉   | 601/871 [00:13<00:08, 32.62it/s]backtest loop:  70%|██████▉   | 606/871 [00:13<00:07, 35.44it/s]backtest loop:  70%|███████   | 612/871 [00:14<00:06, 40.44it/s]backtest loop:  71%|███████   | 618/871 [00:14<00:05, 43.83it/s]backtest loop:  72%|███████▏  | 624/871 [00:14<00:05, 46.12it/s]backtest loop:  72%|███████▏  | 629/871 [00:14<00:05, 42.53it/s]backtest loop:  73%|███████▎  | 634/871 [00:14<00:05, 41.89it/s]backtest loop:  73%|███████▎  | 639/871 [00:14<00:05, 42.40it/s]backtest loop:  74%|███████▍  | 645/871 [00:14<00:05, 42.76it/s]backtest loop:  75%|███████▍  | 650/871 [00:14<00:05, 43.65it/s]backtest loop:  75%|███████▌  | 655/871 [00:15<00:05, 41.25it/s]backtest loop:  76%|███████▌  | 660/871 [00:15<00:05, 40.64it/s]backtest loop:  76%|███████▋  | 665/871 [00:15<00:04, 41.40it/s]backtest loop:  77%|███████▋  | 670/871 [00:15<00:04, 41.18it/s]backtest loop:  77%|███████▋  | 675/871 [00:15<00:04, 41.11it/s]backtest loop:  78%|███████▊  | 680/871 [00:15<00:04, 39.91it/s]backtest loop:  79%|███████▊  | 685/871 [00:15<00:04, 39.20it/s]backtest loop:  79%|███████▉  | 691/871 [00:15<00:04, 42.92it/s]backtest loop:  80%|████████  | 697/871 [00:16<00:03, 45.62it/s]backtest loop:  81%|████████  | 702/871 [00:16<00:03, 42.61it/s]backtest loop:  81%|████████  | 707/871 [00:16<00:03, 41.45it/s]backtest loop:  82%|████████▏ | 712/871 [00:16<00:03, 41.80it/s]backtest loop:  82%|████████▏ | 718/871 [00:16<00:03, 44.93it/s]backtest loop:  83%|████████▎ | 723/871 [00:16<00:03, 45.00it/s]backtest loop:  84%|████████▎ | 728/871 [00:16<00:03, 42.74it/s]backtest loop:  84%|████████▍ | 733/871 [00:17<00:03, 35.94it/s]backtest loop:  85%|████████▍ | 738/871 [00:17<00:03, 39.17it/s]backtest loop:  85%|████████▌ | 744/871 [00:17<00:02, 42.90it/s]backtest loop:  86%|████████▌ | 749/871 [00:17<00:02, 41.25it/s]backtest loop:  87%|████████▋ | 754/871 [00:17<00:02, 40.17it/s]backtest loop:  87%|████████▋ | 759/871 [00:17<00:02, 40.53it/s]backtest loop:  88%|████████▊ | 764/871 [00:17<00:02, 42.91it/s]backtest loop:  88%|████████▊ | 770/871 [00:17<00:02, 45.12it/s]backtest loop:  89%|████████▉ | 775/871 [00:17<00:02, 42.59it/s]backtest loop:  90%|████████▉ | 780/871 [00:18<00:02, 41.54it/s]backtest loop:  90%|█████████ | 785/871 [00:18<00:02, 42.01it/s]backtest loop:  91%|█████████ | 791/871 [00:18<00:01, 45.16it/s]backtest loop:  91%|█████████▏| 796/871 [00:18<00:01, 41.46it/s]backtest loop:  92%|█████████▏| 801/871 [00:18<00:01, 40.49it/s]backtest loop:  93%|█████████▎| 806/871 [00:18<00:01, 39.67it/s]backtest loop:  93%|█████████▎| 812/871 [00:18<00:01, 43.40it/s]backtest loop:  94%|█████████▍| 818/871 [00:18<00:01, 43.18it/s]backtest loop:  94%|█████████▍| 823/871 [00:19<00:01, 41.33it/s]backtest loop:  95%|█████████▌| 828/871 [00:19<00:01, 40.79it/s]backtest loop:  96%|█████████▌| 833/871 [00:19<00:00, 40.57it/s]backtest loop:  96%|█████████▋| 839/871 [00:19<00:00, 43.90it/s]backtest loop:  97%|█████████▋| 845/871 [00:19<00:00, 46.27it/s]backtest loop:  98%|█████████▊| 850/871 [00:19<00:00, 43.61it/s]backtest loop:  98%|█████████▊| 855/871 [00:19<00:00, 42.35it/s]backtest loop:  99%|█████████▊| 860/871 [00:19<00:00, 42.20it/s]backtest loop:  99%|█████████▉| 866/871 [00:20<00:00, 43.13it/s]backtest loop: 100%|██████████| 871/871 [00:20<00:00, 43.13it/s]
[3055700:MainThread](2024-03-28 13:39:42,862) INFO - qlib.workflow - [record_temp.py:515] - Portfolio analysis record 'port_analysis_1day.pkl' has been saved as the artifact of the Experiment 1
[3055700:MainThread](2024-03-28 13:39:42,876) INFO - qlib.workflow - [record_temp.py:540] - Indicator analysis record 'indicator_analysis_1day.pkl' has been saved as the artifact of the Experiment 1
[3055700:MainThread](2024-03-28 13:39:44,025) INFO - qlib.timer - [log.py:127] - Time cost: 0.000s | waiting `async_log` Done
'The following are analysis results of benchmark return(1day).'
                       risk
mean               0.000477
std                0.012295
annualized_return  0.113561
information_ratio  0.598699
max_drawdown      -0.370479
'The following are analysis results of the excess return without cost(1day).'
                       risk
mean               0.000510
std                0.004784
annualized_return  0.121317
information_ratio  1.643888
max_drawdown      -0.127896
'The following are analysis results of the excess return with cost(1day).'
                       risk
mean               0.000334
std                0.004781
annualized_return  0.079471
information_ratio  1.077402
max_drawdown      -0.150037
'The following are analysis results of indicators(1day).'
     value
ffr    1.0
pa     0.0
pos    0.0
