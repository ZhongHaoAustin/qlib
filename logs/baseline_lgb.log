[3054849:MainThread](2024-03-28 13:37:06,658) INFO - qlib.Initialization - [config.py:416] - default_conf: client.
[3054849:MainThread](2024-03-28 13:37:06,661) INFO - qlib.Initialization - [__init__.py:74] - qlib successfully initialized based on client settings.
[3054849:MainThread](2024-03-28 13:37:06,661) INFO - qlib.Initialization - [__init__.py:76] - data_path={'__DEFAULT_FREQ': PosixPath('/home/zhonghao/.qlib/qlib_data/cn_data')}
[3054849:MainThread](2024-03-28 13:37:06,662) INFO - qlib.workflow - [exp.py:258] - Experiment 1 starts running ...
[3054849:MainThread](2024-03-28 13:37:06,745) INFO - qlib.workflow - [recorder.py:341] - Recorder d3fb1998822f44708ceed1a5ca3f2e74 starts running under Experiment 1 ...
ModuleNotFoundError. CatBoostModel are skipped. (optional: maybe installing CatBoostModel can fix it.)
[3054849:MainThread](2024-03-28 13:37:37,546) INFO - qlib.timer - [log.py:127] - Time cost: 29.681s | Loading data Done
[3054849:MainThread](2024-03-28 13:37:38,686) INFO - qlib.timer - [log.py:127] - Time cost: 0.331s | DropnaLabel Done
[3054849:MainThread](2024-03-28 13:37:46,116) INFO - qlib.timer - [log.py:127] - Time cost: 7.429s | CSZScoreNorm Done
[3054849:MainThread](2024-03-28 13:37:46,120) INFO - qlib.timer - [log.py:127] - Time cost: 8.573s | fit & process data Done
[3054849:MainThread](2024-03-28 13:37:46,121) INFO - qlib.timer - [log.py:127] - Time cost: 38.257s | Init data Done
[3054849:MainThread](2024-03-28 13:38:01,676) INFO - qlib.fill_placeholder - [__init__.py:739] - <PRED> lookes like a placeholder, but it can't match to any given values
[3054849:MainThread](2024-03-28 13:38:03,107) INFO - qlib.workflow - [record_temp.py:198] - Signal record 'pred.pkl' has been saved as the artifact of the Experiment 1
[3054849:MainThread](2024-03-28 13:38:05,089) INFO - qlib.backtest caller - [__init__.py:93] - Create new exchange
Training until validation scores don't improve for 50 rounds
[20]	train's l2: 0.981377	valid's l2: 0.993566
[40]	train's l2: 0.973811	valid's l2: 0.993977
[60]	train's l2: 0.967152	valid's l2: 0.994647
Early stopping, best iteration is:
[18]	train's l2: 0.982182	valid's l2: 0.993497
'The following are prediction results of the LGBModel model.'
                          score
datetime   instrument          
2017-01-03 SH600000   -0.027139
           SH600008    0.007009
           SH600009    0.009770
           SH600010    0.012275
           SH600015   -0.112909
{'IC': 0.04680587330816146,
 'ICIR': 0.3815683931746853,
 'Rank IC': 0.049049290457489736,
 'Rank ICIR': 0.40674875694128715}
[3054849:MainThread](2024-03-28 13:38:12,763) WARNING - qlib.online operator - [exchange.py:219] - $close field data contains nan.
[3054849:MainThread](2024-03-28 13:38:12,765) WARNING - qlib.online operator - [exchange.py:219] - $close field data contains nan.
[3054849:MainThread](2024-03-28 13:38:12,777) WARNING - qlib.online operator - [exchange.py:226] - factor.day.bin file not exists or factor contains `nan`. Order using adjusted_price.
[3054849:MainThread](2024-03-28 13:38:12,777) WARNING - qlib.online operator - [exchange.py:228] - trade unit 100 is not supported in adjusted_price mode.
[3054849:MainThread](2024-03-28 13:38:19,751) WARNING - qlib.data - [data.py:666] - load calendar error: freq=day, future=True; return current calendar!
[3054849:MainThread](2024-03-28 13:38:19,752) WARNING - qlib.data - [data.py:669] - You can get future calendar by referring to the following document: https://github.com/microsoft/qlib/blob/main/scripts/data_collector/contrib/README.md
[3054849:MainThread](2024-03-28 13:38:19,791) WARNING - qlib.BaseExecutor - [executor.py:121] - `common_infra` is not set for <qlib.backtest.executor.SimulatorExecutor object at 0x7f388aaa0c10>
backtest loop:   0%|          | 0/871 [00:00<?, ?it/s]/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
backtest loop:   0%|          | 4/871 [00:00<00:29, 29.62it/s]backtest loop:   1%|          | 7/871 [00:00<00:57, 14.96it/s]backtest loop:   1%|▏         | 11/871 [00:00<00:41, 20.91it/s]backtest loop:   2%|▏         | 14/871 [00:00<00:37, 22.81it/s]backtest loop:   2%|▏         | 18/871 [00:00<00:34, 24.55it/s]backtest loop:   2%|▏         | 21/871 [00:00<00:36, 23.03it/s]backtest loop:   3%|▎         | 24/871 [00:01<00:36, 22.99it/s]backtest loop:   3%|▎         | 28/871 [00:01<00:31, 26.55it/s]backtest loop:   4%|▎         | 31/871 [00:01<00:33, 25.32it/s]backtest loop:   4%|▍         | 34/871 [00:01<00:33, 24.97it/s]backtest loop:   4%|▍         | 39/871 [00:01<00:30, 27.22it/s]backtest loop:   5%|▍         | 43/871 [00:01<00:28, 29.28it/s]backtest loop:   5%|▌         | 46/871 [00:01<00:30, 26.98it/s]backtest loop:   6%|▌         | 49/871 [00:01<00:31, 25.96it/s]backtest loop:   6%|▌         | 53/871 [00:02<00:27, 29.30it/s]backtest loop:   7%|▋         | 57/871 [00:02<00:29, 27.91it/s]backtest loop:   7%|▋         | 60/871 [00:02<00:30, 26.20it/s]backtest loop:   7%|▋         | 64/871 [00:02<00:29, 27.66it/s]backtest loop:   8%|▊         | 67/871 [00:02<00:29, 27.15it/s]backtest loop:   8%|▊         | 71/871 [00:02<00:27, 28.83it/s]backtest loop:   8%|▊         | 74/871 [00:02<00:28, 27.70it/s]backtest loop:   9%|▉         | 77/871 [00:02<00:29, 26.77it/s]backtest loop:   9%|▉         | 81/871 [00:03<00:31, 25.26it/s]backtest loop:  10%|▉         | 85/871 [00:03<00:28, 27.24it/s]backtest loop:  10%|█         | 89/871 [00:03<00:26, 28.98it/s]backtest loop:  11%|█         | 92/871 [00:03<00:29, 26.73it/s]backtest loop:  11%|█         | 96/871 [00:03<00:29, 26.50it/s]backtest loop:  11%|█▏        | 99/871 [00:03<00:29, 26.43it/s]backtest loop:  12%|█▏        | 103/871 [00:03<00:26, 29.24it/s]backtest loop:  12%|█▏        | 106/871 [00:04<00:27, 27.53it/s]backtest loop:  13%|█▎        | 110/871 [00:04<00:25, 29.30it/s]backtest loop:  13%|█▎        | 114/871 [00:04<00:25, 29.67it/s]backtest loop:  14%|█▎        | 119/871 [00:04<00:23, 31.48it/s]backtest loop:  14%|█▍        | 124/871 [00:04<00:21, 34.15it/s]backtest loop:  15%|█▍        | 129/871 [00:04<00:23, 32.15it/s]backtest loop:  15%|█▌        | 133/871 [00:04<00:22, 33.54it/s]backtest loop:  16%|█▌        | 137/871 [00:04<00:21, 33.59it/s]backtest loop:  16%|█▌        | 141/871 [00:05<00:21, 34.02it/s]backtest loop:  17%|█▋        | 145/871 [00:05<00:20, 34.82it/s]backtest loop:  17%|█▋        | 151/871 [00:05<00:17, 40.28it/s]backtest loop:  18%|█▊        | 156/871 [00:05<00:17, 40.64it/s]backtest loop:  18%|█▊        | 161/871 [00:05<00:18, 39.40it/s]backtest loop:  19%|█▉        | 166/871 [00:05<00:17, 40.41it/s]backtest loop:  20%|█▉        | 171/871 [00:05<00:16, 42.35it/s]backtest loop:  20%|██        | 176/871 [00:05<00:18, 38.33it/s]backtest loop:  21%|██        | 181/871 [00:06<00:17, 39.86it/s]backtest loop:  21%|██▏       | 187/871 [00:06<00:15, 44.09it/s]backtest loop:  22%|██▏       | 193/871 [00:06<00:14, 46.82it/s]backtest loop:  23%|██▎       | 198/871 [00:06<00:15, 43.56it/s]backtest loop:  23%|██▎       | 203/871 [00:06<00:15, 42.71it/s]backtest loop:  24%|██▍       | 208/871 [00:06<00:15, 43.25it/s]backtest loop:  25%|██▍       | 214/871 [00:06<00:14, 44.31it/s]backtest loop:  25%|██▌       | 219/871 [00:06<00:14, 45.27it/s]backtest loop:  26%|██▌       | 225/871 [00:06<00:13, 46.87it/s]backtest loop:  26%|██▋       | 230/871 [00:07<00:14, 43.82it/s]backtest loop:  27%|██▋       | 235/871 [00:07<00:14, 43.05it/s]backtest loop:  28%|██▊       | 240/871 [00:07<00:14, 43.93it/s]backtest loop:  28%|██▊       | 246/871 [00:07<00:13, 46.89it/s]backtest loop:  29%|██▉       | 252/871 [00:07<00:12, 49.04it/s]backtest loop:  30%|██▉       | 257/871 [00:07<00:12, 48.59it/s]backtest loop:  30%|███       | 262/871 [00:07<00:13, 43.80it/s]backtest loop:  31%|███       | 267/871 [00:07<00:14, 42.18it/s]backtest loop:  31%|███       | 272/871 [00:08<00:14, 42.16it/s]backtest loop:  32%|███▏      | 277/871 [00:08<00:14, 41.99it/s]backtest loop:  32%|███▏      | 282/871 [00:08<00:13, 43.89it/s]backtest loop:  33%|███▎      | 287/871 [00:08<00:13, 43.00it/s]backtest loop:  34%|███▎      | 292/871 [00:08<00:14, 40.80it/s]backtest loop:  34%|███▍      | 297/871 [00:08<00:14, 39.50it/s]backtest loop:  35%|███▍      | 302/871 [00:08<00:13, 40.96it/s]backtest loop:  35%|███▌      | 307/871 [00:08<00:13, 41.14it/s]backtest loop:  36%|███▌      | 312/871 [00:09<00:13, 40.94it/s]backtest loop:  36%|███▋      | 317/871 [00:09<00:13, 40.01it/s]backtest loop:  37%|███▋      | 322/871 [00:09<00:13, 39.97it/s]backtest loop:  38%|███▊      | 328/871 [00:09<00:12, 43.74it/s]backtest loop:  38%|███▊      | 334/871 [00:09<00:12, 43.80it/s]backtest loop:  39%|███▉      | 339/871 [00:09<00:12, 41.63it/s]backtest loop:  39%|███▉      | 344/871 [00:09<00:12, 41.73it/s]backtest loop:  40%|████      | 349/871 [00:09<00:12, 42.79it/s]backtest loop:  41%|████      | 354/871 [00:10<00:11, 44.18it/s]backtest loop:  41%|████      | 359/871 [00:10<00:11, 43.96it/s]backtest loop:  42%|████▏     | 364/871 [00:10<00:11, 42.38it/s]backtest loop:  42%|████▏     | 369/871 [00:10<00:12, 40.86it/s]backtest loop:  43%|████▎     | 374/871 [00:10<00:11, 41.53it/s]backtest loop:  44%|████▎     | 379/871 [00:10<00:11, 42.72it/s]backtest loop:  44%|████▍     | 385/871 [00:10<00:10, 46.24it/s]backtest loop:  45%|████▍     | 391/871 [00:10<00:09, 49.19it/s]backtest loop:  45%|████▌     | 396/871 [00:10<00:10, 46.40it/s]backtest loop:  46%|████▌     | 401/871 [00:11<00:10, 45.64it/s]backtest loop:  47%|████▋     | 406/871 [00:11<00:10, 45.38it/s]backtest loop:  47%|████▋     | 412/871 [00:11<00:09, 48.69it/s]backtest loop:  48%|████▊     | 418/871 [00:11<00:09, 47.61it/s]backtest loop:  49%|████▊     | 424/871 [00:11<00:08, 50.15it/s]backtest loop:  49%|████▉     | 430/871 [00:11<00:09, 45.37it/s]backtest loop:  50%|████▉     | 435/871 [00:11<00:09, 44.91it/s]backtest loop:  51%|█████     | 440/871 [00:11<00:09, 45.04it/s]backtest loop:  51%|█████     | 446/871 [00:12<00:08, 48.01it/s]backtest loop:  52%|█████▏    | 452/871 [00:12<00:08, 47.67it/s]backtest loop:  52%|█████▏    | 457/871 [00:12<00:08, 47.94it/s]backtest loop:  53%|█████▎    | 462/871 [00:12<00:09, 43.21it/s]backtest loop:  54%|█████▎    | 467/871 [00:12<00:09, 40.46it/s]backtest loop:  54%|█████▍    | 472/871 [00:12<00:09, 41.31it/s]backtest loop:  55%|█████▍    | 478/871 [00:12<00:08, 45.76it/s]backtest loop:  56%|█████▌    | 484/871 [00:12<00:07, 49.47it/s]backtest loop:  56%|█████▋    | 490/871 [00:12<00:08, 46.97it/s]backtest loop:  57%|█████▋    | 495/871 [00:13<00:08, 44.01it/s]backtest loop:  57%|█████▋    | 500/871 [00:13<00:08, 43.01it/s]backtest loop:  58%|█████▊    | 505/871 [00:13<00:08, 44.57it/s]backtest loop:  59%|█████▊    | 511/871 [00:13<00:07, 48.16it/s]backtest loop:  59%|█████▉    | 517/871 [00:13<00:06, 51.16it/s]backtest loop:  60%|██████    | 523/871 [00:13<00:07, 49.29it/s]backtest loop:  61%|██████    | 529/871 [00:13<00:07, 44.08it/s]backtest loop:  61%|██████▏   | 534/871 [00:13<00:07, 42.98it/s]backtest loop:  62%|██████▏   | 539/871 [00:14<00:07, 43.91it/s]backtest loop:  63%|██████▎   | 545/871 [00:14<00:07, 45.28it/s]backtest loop:  63%|██████▎   | 551/871 [00:14<00:06, 48.83it/s]backtest loop:  64%|██████▍   | 557/871 [00:14<00:06, 51.50it/s]backtest loop:  65%|██████▍   | 563/871 [00:14<00:05, 52.46it/s]/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
backtest loop:  65%|██████▌   | 569/871 [00:14<00:05, 53.32it/s]backtest loop:  66%|██████▌   | 575/871 [00:14<00:06, 48.43it/s]backtest loop:  67%|██████▋   | 580/871 [00:14<00:06, 46.09it/s]backtest loop:  67%|██████▋   | 585/871 [00:15<00:06, 46.33it/s]backtest loop:  68%|██████▊   | 590/871 [00:15<00:06, 44.84it/s]backtest loop:  68%|██████▊   | 595/871 [00:15<00:05, 46.09it/s]backtest loop:  69%|██████▉   | 600/871 [00:15<00:06, 42.83it/s]backtest loop:  69%|██████▉   | 605/871 [00:15<00:06, 39.70it/s]backtest loop:  70%|███████   | 610/871 [00:15<00:06, 38.68it/s]backtest loop:  71%|███████   | 615/871 [00:15<00:06, 41.17it/s]backtest loop:  71%|███████   | 620/871 [00:15<00:05, 43.38it/s]backtest loop:  72%|███████▏  | 625/871 [00:15<00:05, 42.13it/s]backtest loop:  72%|███████▏  | 630/871 [00:16<00:06, 39.40it/s]backtest loop:  73%|███████▎  | 635/871 [00:16<00:06, 38.20it/s]backtest loop:  73%|███████▎  | 640/871 [00:16<00:05, 39.83it/s]backtest loop:  74%|███████▍  | 645/871 [00:16<00:05, 41.90it/s]backtest loop:  75%|███████▍  | 650/871 [00:16<00:05, 43.91it/s]backtest loop:  75%|███████▌  | 655/871 [00:16<00:05, 40.58it/s]backtest loop:  76%|███████▌  | 660/871 [00:16<00:05, 38.56it/s]backtest loop:  76%|███████▌  | 664/871 [00:16<00:05, 37.67it/s]backtest loop:  77%|███████▋  | 669/871 [00:17<00:05, 40.04it/s]backtest loop:  77%|███████▋  | 674/871 [00:17<00:05, 39.28it/s]backtest loop:  78%|███████▊  | 679/871 [00:17<00:05, 38.23it/s]backtest loop:  79%|███████▊  | 684/871 [00:17<00:04, 37.66it/s]backtest loop:  79%|███████▉  | 689/871 [00:17<00:04, 38.08it/s]backtest loop:  80%|███████▉  | 694/871 [00:17<00:04, 40.24it/s]backtest loop:  80%|████████  | 699/871 [00:17<00:04, 41.97it/s]backtest loop:  81%|████████  | 704/871 [00:18<00:04, 37.91it/s]backtest loop:  81%|████████▏ | 709/871 [00:18<00:04, 38.16it/s]backtest loop:  82%|████████▏ | 714/871 [00:18<00:03, 39.59it/s]backtest loop:  83%|████████▎ | 720/871 [00:18<00:03, 43.68it/s]backtest loop:  83%|████████▎ | 726/871 [00:18<00:03, 46.74it/s]backtest loop:  84%|████████▍ | 731/871 [00:18<00:03, 44.92it/s]backtest loop:  85%|████████▍ | 736/871 [00:18<00:02, 46.19it/s]backtest loop:  85%|████████▌ | 741/871 [00:18<00:02, 45.58it/s]backtest loop:  86%|████████▌ | 746/871 [00:18<00:02, 42.23it/s]backtest loop:  86%|████████▌ | 751/871 [00:19<00:02, 41.89it/s]backtest loop:  87%|████████▋ | 756/871 [00:19<00:02, 43.44it/s]backtest loop:  87%|████████▋ | 762/871 [00:19<00:02, 43.50it/s]backtest loop:  88%|████████▊ | 768/871 [00:19<00:02, 46.01it/s]backtest loop:  89%|████████▊ | 773/871 [00:19<00:02, 44.99it/s]backtest loop:  89%|████████▉ | 778/871 [00:19<00:02, 41.84it/s]backtest loop:  90%|████████▉ | 783/871 [00:19<00:02, 41.30it/s]backtest loop:  90%|█████████ | 788/871 [00:19<00:01, 42.78it/s]backtest loop:  91%|█████████ | 793/871 [00:20<00:01, 44.59it/s]backtest loop:  92%|█████████▏| 798/871 [00:20<00:01, 45.96it/s]backtest loop:  92%|█████████▏| 803/871 [00:20<00:01, 45.36it/s]backtest loop:  93%|█████████▎| 808/871 [00:20<00:01, 42.17it/s]backtest loop:  93%|█████████▎| 813/871 [00:20<00:01, 38.16it/s]backtest loop:  94%|█████████▍| 818/871 [00:20<00:01, 40.92it/s]backtest loop:  94%|█████████▍| 823/871 [00:20<00:01, 43.04it/s]backtest loop:  95%|█████████▌| 828/871 [00:20<00:00, 44.71it/s]backtest loop:  96%|█████████▌| 833/871 [00:20<00:00, 41.65it/s]backtest loop:  96%|█████████▌| 838/871 [00:21<00:00, 40.86it/s]backtest loop:  97%|█████████▋| 843/871 [00:21<00:00, 41.10it/s]backtest loop:  97%|█████████▋| 848/871 [00:21<00:00, 43.14it/s]backtest loop:  98%|█████████▊| 853/871 [00:21<00:00, 44.74it/s]backtest loop:  99%|█████████▊| 858/871 [00:21<00:00, 43.93it/s]backtest loop:  99%|█████████▉| 863/871 [00:21<00:00, 41.75it/s]backtest loop: 100%|█████████▉| 868/871 [00:21<00:00, 40.87it/s]backtest loop: 100%|██████████| 871/871 [00:21<00:00, 39.81it/s]
[3054849:MainThread](2024-03-28 13:38:41,743) INFO - qlib.workflow - [record_temp.py:515] - Portfolio analysis record 'port_analysis_1day.pkl' has been saved as the artifact of the Experiment 1
[3054849:MainThread](2024-03-28 13:38:41,758) INFO - qlib.workflow - [record_temp.py:540] - Indicator analysis record 'indicator_analysis_1day.pkl' has been saved as the artifact of the Experiment 1
[3054849:MainThread](2024-03-28 13:38:42,870) INFO - qlib.timer - [log.py:127] - Time cost: 0.000s | waiting `async_log` Done
'The following are analysis results of benchmark return(1day).'
                       risk
mean               0.000477
std                0.012295
annualized_return  0.113561
information_ratio  0.598699
max_drawdown      -0.370479
'The following are analysis results of the excess return without cost(1day).'
                       risk
mean               0.000530
std                0.005718
annualized_return  0.126029
information_ratio  1.428574
max_drawdown      -0.072310
'The following are analysis results of the excess return with cost(1day).'
                       risk
mean               0.000339
std                0.005717
annualized_return  0.080654
information_ratio  0.914486
max_drawdown      -0.086083
'The following are analysis results of indicators(1day).'
     value
ffr    1.0
pa     0.0
pos    0.0
