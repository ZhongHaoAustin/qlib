[3054850:MainThread](2024-03-28 13:37:06,529) INFO - qlib.Initialization - [config.py:416] - default_conf: client.
[3054850:MainThread](2024-03-28 13:37:06,532) INFO - qlib.Initialization - [__init__.py:74] - qlib successfully initialized based on client settings.
[3054850:MainThread](2024-03-28 13:37:06,532) INFO - qlib.Initialization - [__init__.py:76] - data_path={'__DEFAULT_FREQ': PosixPath('/home/zhonghao/.qlib/qlib_data/cn_data')}
[3054850:MainThread](2024-03-28 13:37:06,534) WARNING - qlib.workflow - [expm.py:230] - No valid experiment found. Create a new experiment with name workflow.
[3054850:MainThread](2024-03-28 13:37:06,535) INFO - qlib.workflow - [exp.py:258] - Experiment 1 starts running ...
[3054850:MainThread](2024-03-28 13:37:06,603) INFO - qlib.workflow - [recorder.py:341] - Recorder b61977bd125a4297840296aa176d804b starts running under Experiment 1 ...
[3054850:MainThread](2024-03-28 13:37:07,772) INFO - qlib.DEnsembleModel - [double_ensemble.py:57] - Double Ensemble Model...
ModuleNotFoundError. CatBoostModel are skipped. (optional: maybe installing CatBoostModel can fix it.)
[3054850:MainThread](2024-03-28 13:37:37,189) INFO - qlib.timer - [log.py:127] - Time cost: 29.414s | Loading data Done
[3054850:MainThread](2024-03-28 13:37:38,354) INFO - qlib.timer - [log.py:127] - Time cost: 0.348s | DropnaLabel Done
[3054850:MainThread](2024-03-28 13:37:45,397) INFO - qlib.timer - [log.py:127] - Time cost: 7.042s | CSZScoreNorm Done
[3054850:MainThread](2024-03-28 13:37:45,400) INFO - qlib.timer - [log.py:127] - Time cost: 8.211s | fit & process data Done
[3054850:MainThread](2024-03-28 13:37:45,401) INFO - qlib.timer - [log.py:127] - Time cost: 37.627s | Init data Done
[3054850:MainThread](2024-03-28 13:37:45,402) WARNING - qlib.utils - [__init__.py:789] - The parameter `reweighter` with value `None` is ignored.
[3054850:MainThread](2024-03-28 13:37:47,761) INFO - qlib.DEnsembleModel - [double_ensemble.py:81] - Training sub-model: (1/3)
[3054850:MainThread](2024-03-28 13:37:58,295) INFO - qlib.DEnsembleModel - [double_ensemble.py:88] - Retrieving loss curve and loss values...
[3054850:MainThread](2024-03-28 13:38:11,026) INFO - qlib.DEnsembleModel - [double_ensemble.py:102] - Feature selection...
[3054850:MainThread](2024-03-28 13:39:50,983) INFO - qlib.DEnsembleModel - [double_ensemble.py:81] - Training sub-model: (2/3)
[3054850:MainThread](2024-03-28 13:39:54,064) INFO - qlib.DEnsembleModel - [double_ensemble.py:88] - Retrieving loss curve and loss values...
[3054850:MainThread](2024-03-28 13:40:01,357) INFO - qlib.DEnsembleModel - [double_ensemble.py:102] - Feature selection...
[3054850:MainThread](2024-03-28 13:42:33,845) INFO - qlib.DEnsembleModel - [double_ensemble.py:81] - Training sub-model: (3/3)
[3054850:MainThread](2024-03-28 13:42:37,005) INFO - qlib.fill_placeholder - [__init__.py:739] - <PRED> lookes like a placeholder, but it can't match to any given values
[3054850:MainThread](2024-03-28 13:42:38,479) INFO - qlib.workflow - [record_temp.py:198] - Signal record 'pred.pkl' has been saved as the artifact of the Experiment 1
[3054850:MainThread](2024-03-28 13:42:40,095) INFO - qlib.backtest caller - [__init__.py:93] - Create new exchange
[20]	train's l2: 0.981377	valid's l2: 0.993566
[20]	train's l2: 0.982344	valid's l2: 0.994035
[20]	train's l2: 0.981952	valid's l2: 0.993418
'The following are prediction results of the DEnsembleModel model.'
                          score
datetime   instrument          
2017-01-03 SH600000   -0.037505
           SH600008    0.006013
           SH600009    0.021885
           SH600010   -0.010242
           SH600015   -0.125751
{'IC': 0.05086941241052127,
 'ICIR': 0.41097872127423535,
 'Rank IC': 0.052675528854828096,
 'Rank ICIR': 0.4312742213275482}
[3054850:MainThread](2024-03-28 13:42:46,225) WARNING - qlib.online operator - [exchange.py:219] - $close field data contains nan.
[3054850:MainThread](2024-03-28 13:42:46,227) WARNING - qlib.online operator - [exchange.py:219] - $close field data contains nan.
[3054850:MainThread](2024-03-28 13:42:46,239) WARNING - qlib.online operator - [exchange.py:226] - factor.day.bin file not exists or factor contains `nan`. Order using adjusted_price.
[3054850:MainThread](2024-03-28 13:42:46,240) WARNING - qlib.online operator - [exchange.py:228] - trade unit 100 is not supported in adjusted_price mode.
[3054850:MainThread](2024-03-28 13:42:50,418) WARNING - qlib.data - [data.py:666] - load calendar error: freq=day, future=True; return current calendar!
[3054850:MainThread](2024-03-28 13:42:50,419) WARNING - qlib.data - [data.py:669] - You can get future calendar by referring to the following document: https://github.com/microsoft/qlib/blob/main/scripts/data_collector/contrib/README.md
[3054850:MainThread](2024-03-28 13:42:50,436) WARNING - qlib.BaseExecutor - [executor.py:121] - `common_infra` is not set for <qlib.backtest.executor.SimulatorExecutor object at 0x7fdcb402df10>
backtest loop:   0%|          | 0/871 [00:00<?, ?it/s]/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
backtest loop:   0%|          | 3/871 [00:00<00:47, 18.21it/s]backtest loop:   1%|          | 8/871 [00:00<00:26, 32.61it/s]backtest loop:   2%|▏         | 14/871 [00:00<00:22, 38.15it/s]backtest loop:   2%|▏         | 19/871 [00:00<00:21, 39.63it/s]backtest loop:   3%|▎         | 25/871 [00:00<00:18, 45.34it/s]backtest loop:   4%|▎         | 31/871 [00:00<00:17, 49.20it/s]backtest loop:   4%|▍         | 37/871 [00:00<00:15, 52.30it/s]backtest loop:   5%|▍         | 43/871 [00:00<00:15, 54.37it/s]backtest loop:   6%|▌         | 49/871 [00:01<00:15, 52.52it/s]backtest loop:   6%|▋         | 55/871 [00:01<00:15, 52.61it/s]backtest loop:   7%|▋         | 61/871 [00:01<00:15, 53.75it/s]backtest loop:   8%|▊         | 67/871 [00:01<00:15, 52.53it/s]backtest loop:   8%|▊         | 73/871 [00:01<00:14, 54.58it/s]backtest loop:   9%|▉         | 79/871 [00:01<00:14, 55.56it/s]backtest loop:  10%|▉         | 85/871 [00:01<00:14, 55.51it/s]backtest loop:  10%|█         | 91/871 [00:01<00:15, 49.61it/s]backtest loop:  11%|█         | 97/871 [00:01<00:16, 48.02it/s]backtest loop:  12%|█▏        | 102/871 [00:02<00:16, 46.93it/s]backtest loop:  12%|█▏        | 107/871 [00:02<00:16, 46.73it/s]backtest loop:  13%|█▎        | 112/871 [00:02<00:16, 46.82it/s]backtest loop:  13%|█▎        | 117/871 [00:02<00:16, 46.33it/s]backtest loop:  14%|█▍        | 122/871 [00:02<00:15, 47.17it/s]backtest loop:  15%|█▍        | 128/871 [00:02<00:15, 48.61it/s]backtest loop:  15%|█▌        | 133/871 [00:02<00:15, 48.53it/s]backtest loop:  16%|█▌        | 138/871 [00:02<00:15, 48.82it/s]backtest loop:  17%|█▋        | 144/871 [00:02<00:14, 49.62it/s]backtest loop:  17%|█▋        | 150/871 [00:03<00:13, 52.40it/s]backtest loop:  18%|█▊        | 157/871 [00:03<00:12, 55.98it/s]backtest loop:  19%|█▉        | 164/871 [00:03<00:12, 55.09it/s]backtest loop:  20%|█▉        | 170/871 [00:03<00:12, 56.21it/s]backtest loop:  20%|██        | 176/871 [00:03<00:12, 56.30it/s]backtest loop:  21%|██        | 182/871 [00:03<00:12, 56.53it/s]backtest loop:  22%|██▏       | 189/871 [00:03<00:12, 55.63it/s]backtest loop:  22%|██▏       | 195/871 [00:03<00:12, 56.04it/s]backtest loop:  23%|██▎       | 202/871 [00:03<00:11, 58.72it/s]backtest loop:  24%|██▍       | 209/871 [00:04<00:11, 56.64it/s]backtest loop:  25%|██▍       | 216/871 [00:04<00:11, 58.27it/s]backtest loop:  25%|██▌       | 222/871 [00:04<00:11, 58.28it/s]backtest loop:  26%|██▋       | 229/871 [00:04<00:11, 57.44it/s]backtest loop:  27%|██▋       | 236/871 [00:04<00:10, 60.34it/s]backtest loop:  28%|██▊       | 243/871 [00:04<00:10, 61.99it/s]backtest loop:  29%|██▊       | 250/871 [00:04<00:10, 59.72it/s]backtest loop:  30%|██▉       | 257/871 [00:04<00:10, 60.90it/s]backtest loop:  30%|███       | 264/871 [00:05<00:10, 58.68it/s]backtest loop:  31%|███       | 271/871 [00:05<00:09, 60.41it/s]backtest loop:  32%|███▏      | 278/871 [00:05<00:10, 56.25it/s]backtest loop:  33%|███▎      | 285/871 [00:05<00:10, 58.29it/s]backtest loop:  34%|███▎      | 292/871 [00:05<00:09, 60.22it/s]backtest loop:  34%|███▍      | 299/871 [00:05<00:09, 58.60it/s]backtest loop:  35%|███▌      | 306/871 [00:05<00:09, 57.88it/s]backtest loop:  36%|███▌      | 313/871 [00:05<00:09, 59.68it/s]backtest loop:  37%|███▋      | 320/871 [00:05<00:09, 60.88it/s]backtest loop:  38%|███▊      | 327/871 [00:06<00:09, 59.01it/s]backtest loop:  38%|███▊      | 334/871 [00:06<00:09, 57.35it/s]backtest loop:  39%|███▉      | 341/871 [00:06<00:08, 59.02it/s]backtest loop:  40%|███▉      | 348/871 [00:06<00:08, 61.59it/s]backtest loop:  41%|████      | 355/871 [00:06<00:08, 59.49it/s]backtest loop:  42%|████▏     | 362/871 [00:06<00:08, 61.30it/s]backtest loop:  42%|████▏     | 369/871 [00:06<00:08, 58.92it/s]backtest loop:  43%|████▎     | 376/871 [00:06<00:08, 60.91it/s]backtest loop:  44%|████▍     | 383/871 [00:07<00:08, 59.13it/s]backtest loop:  45%|████▍     | 390/871 [00:07<00:07, 60.95it/s]backtest loop:  46%|████▌     | 397/871 [00:07<00:07, 62.39it/s]backtest loop:  46%|████▋     | 404/871 [00:07<00:07, 60.15it/s]backtest loop:  47%|████▋     | 411/871 [00:07<00:07, 61.02it/s]backtest loop:  48%|████▊     | 418/871 [00:07<00:08, 53.81it/s]backtest loop:  49%|████▊     | 424/871 [00:07<00:08, 50.38it/s]backtest loop:  49%|████▉     | 430/871 [00:07<00:09, 48.13it/s]backtest loop:  50%|████▉     | 435/871 [00:08<00:09, 47.78it/s]backtest loop:  51%|█████     | 441/871 [00:08<00:08, 50.34it/s]backtest loop:  51%|█████▏    | 447/871 [00:08<00:08, 49.89it/s]backtest loop:  52%|█████▏    | 453/871 [00:08<00:08, 51.97it/s]backtest loop:  53%|█████▎    | 459/871 [00:08<00:08, 51.01it/s]backtest loop:  53%|█████▎    | 465/871 [00:08<00:08, 49.05it/s]backtest loop:  54%|█████▍    | 471/871 [00:08<00:07, 51.84it/s]backtest loop:  55%|█████▍    | 477/871 [00:08<00:07, 51.16it/s]backtest loop:  56%|█████▌    | 484/871 [00:08<00:06, 55.57it/s]backtest loop:  56%|█████▋    | 490/871 [00:09<00:07, 50.81it/s]backtest loop:  57%|█████▋    | 496/871 [00:09<00:07, 48.81it/s]backtest loop:  58%|█████▊    | 503/871 [00:09<00:07, 51.84it/s]backtest loop:  58%|█████▊    | 509/871 [00:09<00:06, 52.27it/s]backtest loop:  59%|█████▉    | 515/871 [00:09<00:07, 50.06it/s]backtest loop:  60%|█████▉    | 521/871 [00:09<00:06, 51.23it/s]backtest loop:  61%|██████    | 527/871 [00:09<00:06, 52.30it/s]backtest loop:  61%|██████    | 533/871 [00:09<00:06, 53.31it/s]backtest loop:  62%|██████▏   | 539/871 [00:10<00:06, 54.07it/s]backtest loop:  63%|██████▎   | 545/871 [00:10<00:06, 51.57it/s]backtest loop:  63%|██████▎   | 551/871 [00:10<00:06, 53.02it/s]backtest loop:  64%|██████▍   | 557/871 [00:10<00:05, 54.75it/s]backtest loop:  65%|██████▍   | 563/871 [00:10<00:05, 55.10it/s]/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
/home/zhonghao/miniconda3/envs/qlib_env/lib/python3.8/site-packages/qlib/utils/index_data.py:481: RuntimeWarning: Mean of empty slice
  return np.nanmean(self.data)
backtest loop:  65%|██████▌   | 570/871 [00:10<00:05, 57.66it/s]backtest loop:  66%|██████▌   | 576/871 [00:10<00:05, 53.39it/s]backtest loop:  67%|██████▋   | 582/871 [00:10<00:05, 54.69it/s]backtest loop:  68%|██████▊   | 588/871 [00:10<00:05, 55.09it/s]backtest loop:  68%|██████▊   | 594/871 [00:11<00:04, 55.40it/s]backtest loop:  69%|██████▉   | 600/871 [00:11<00:05, 52.26it/s]backtest loop:  70%|██████▉   | 606/871 [00:11<00:04, 53.36it/s]backtest loop:  70%|███████   | 612/871 [00:11<00:04, 54.12it/s]backtest loop:  71%|███████   | 618/871 [00:11<00:04, 54.62it/s]backtest loop:  72%|███████▏  | 624/871 [00:11<00:04, 55.02it/s]backtest loop:  72%|███████▏  | 630/871 [00:11<00:04, 52.04it/s]backtest loop:  73%|███████▎  | 636/871 [00:11<00:04, 53.02it/s]backtest loop:  74%|███████▎  | 642/871 [00:11<00:04, 53.88it/s]backtest loop:  74%|███████▍  | 648/871 [00:12<00:04, 54.41it/s]backtest loop:  75%|███████▌  | 654/871 [00:12<00:03, 54.82it/s]backtest loop:  76%|███████▌  | 660/871 [00:12<00:04, 51.59it/s]backtest loop:  76%|███████▋  | 666/871 [00:12<00:03, 51.38it/s]backtest loop:  77%|███████▋  | 672/871 [00:12<00:04, 49.23it/s]backtest loop:  78%|███████▊  | 678/871 [00:12<00:03, 50.67it/s]backtest loop:  79%|███████▊  | 684/871 [00:12<00:03, 48.82it/s]backtest loop:  79%|███████▉  | 690/871 [00:12<00:03, 50.27it/s]backtest loop:  80%|███████▉  | 696/871 [00:12<00:03, 51.46it/s]backtest loop:  81%|████████  | 702/871 [00:13<00:03, 52.31it/s]backtest loop:  81%|████████▏ | 708/871 [00:13<00:03, 53.04it/s]backtest loop:  82%|████████▏ | 714/871 [00:13<00:03, 50.67it/s]backtest loop:  83%|████████▎ | 720/871 [00:13<00:02, 51.89it/s]backtest loop:  83%|████████▎ | 726/871 [00:13<00:02, 53.19it/s]backtest loop:  84%|████████▍ | 732/871 [00:13<00:02, 50.60it/s]backtest loop:  85%|████████▍ | 738/871 [00:13<00:02, 48.93it/s]backtest loop:  85%|████████▌ | 744/871 [00:13<00:02, 50.65it/s]backtest loop:  86%|████████▌ | 750/871 [00:14<00:02, 52.42it/s]backtest loop:  87%|████████▋ | 756/871 [00:14<00:02, 53.41it/s]backtest loop:  87%|████████▋ | 762/871 [00:14<00:02, 50.67it/s]backtest loop:  88%|████████▊ | 768/871 [00:14<00:01, 51.74it/s]backtest loop:  89%|████████▉ | 774/871 [00:14<00:01, 52.82it/s]backtest loop:  90%|████████▉ | 780/871 [00:14<00:01, 53.71it/s]backtest loop:  90%|█████████ | 786/871 [00:14<00:01, 54.17it/s]backtest loop:  91%|█████████ | 792/871 [00:14<00:01, 51.24it/s]backtest loop:  92%|█████████▏| 798/871 [00:14<00:01, 52.30it/s]backtest loop:  92%|█████████▏| 804/871 [00:15<00:01, 53.18it/s]backtest loop:  93%|█████████▎| 810/871 [00:15<00:01, 50.82it/s]backtest loop:  94%|█████████▎| 816/871 [00:15<00:01, 52.03it/s]backtest loop:  94%|█████████▍| 822/871 [00:15<00:00, 53.07it/s]backtest loop:  95%|█████████▌| 828/871 [00:15<00:00, 50.68it/s]backtest loop:  96%|█████████▌| 834/871 [00:15<00:00, 51.44it/s]backtest loop:  96%|█████████▋| 840/871 [00:15<00:00, 52.20it/s]backtest loop:  97%|█████████▋| 846/871 [00:15<00:00, 50.13it/s]backtest loop:  98%|█████████▊| 852/871 [00:15<00:00, 51.77it/s]backtest loop:  99%|█████████▊| 858/871 [00:16<00:00, 52.56it/s]backtest loop:  99%|█████████▉| 864/871 [00:16<00:00, 53.56it/s]backtest loop: 100%|█████████▉| 870/871 [00:16<00:00, 54.06it/s]backtest loop: 100%|██████████| 871/871 [00:16<00:00, 53.29it/s]
[3054850:MainThread](2024-03-28 13:43:06,841) INFO - qlib.workflow - [record_temp.py:515] - Portfolio analysis record 'port_analysis_1day.pkl' has been saved as the artifact of the Experiment 1
[3054850:MainThread](2024-03-28 13:43:06,857) INFO - qlib.workflow - [record_temp.py:540] - Indicator analysis record 'indicator_analysis_1day.pkl' has been saved as the artifact of the Experiment 1
[3054850:MainThread](2024-03-28 13:43:07,757) INFO - qlib.timer - [log.py:127] - Time cost: 0.000s | waiting `async_log` Done
'The following are analysis results of benchmark return(1day).'
                       risk
mean               0.000477
std                0.012295
annualized_return  0.113561
information_ratio  0.598699
max_drawdown      -0.370479
'The following are analysis results of the excess return without cost(1day).'
                       risk
mean               0.000764
std                0.005590
annualized_return  0.181740
information_ratio  2.107292
max_drawdown      -0.055814
'The following are analysis results of the excess return with cost(1day).'
                       risk
mean               0.000569
std                0.005590
annualized_return  0.135326
information_ratio  1.569180
max_drawdown      -0.059079
'The following are analysis results of indicators(1day).'
     value
ffr    1.0
pa     0.0
pos    0.0
